# Simple Moving Average (SMA) Crossover Strategy

This document details the mathematical formulation and trading logic for the Simple Moving Average (SMA) Crossover strategy.

---

### **1. Mathematical Formulation**

The strategy is based on two Simple Moving Averages (SMAs) of the asset's closing price, calculated over different time periods (windows).

A Simple Moving Average is the unweighted mean of the previous `n` data points. For a time series of closing prices $p_t, p_{t-1}, \dots$, the SMA at time $t$ over a window of $n$ periods is calculated as:

$$
\text{SMA}_n(t) = \frac{1}{n} \sum_{i=0}^{n-1} p_{t-i}
$$

This strategy employs two SMAs:
1.  **Fast SMA (SMA<sub>fast</sub>):** Calculated over a shorter window, $n_1$. This average reacts more quickly to recent price changes.
2.  **Slow SMA (SMA<sub>slow</sub>):** Calculated over a longer window, $n_2$, where $n_2 > n_1$. This average is smoother and reflects the longer-term trend.

---

### **2. Trading Logic**

The core of the strategy lies in the crossover signals generated by the two SMAs. The logic is executed at each time step (e.g., each new bar of data).

#### **State Variables:**

-   `sma_fast`: The current value of the fast moving average.
-   `sma_slow`: The current value of the slow moving average.
-   `position`: A boolean indicating if a position is currently open (`True`) or not (`False`).

#### **Entry Conditions:**

A trade is initiated when the SMAs cross, indicating a potential shift in market trend.

1.  **Bullish Crossover (Golden Cross):** A signal to enter a **long position**.
    -   **Condition:** `sma_fast` crosses *above* `sma_slow`.
    -   **Implementation:** `IF sma_fast[-2] < sma_slow[-2] AND sma_fast[-1] > sma_slow[-1]`
    -   **Action:** `IF NOT position`, `buy()`

2.  **Bearish Crossover (Death Cross):** A signal to enter a **short position**.
    -   **Condition:** `sma_fast` crosses *below* `sma_slow`.
    -   **Implementation:** `IF sma_fast[-2] > sma_slow[-2] AND sma_fast[-1] < sma_slow[-1]`
    -   **Action:** `IF NOT position`, `sell()`

#### **Exit Conditions:**

A position is closed when the SMAs cross back, signaling that the trend that triggered the entry may be ending.

1.  **Exit Long Position:**
    -   **Condition:** `sma_fast` crosses back *below* `sma_slow` while in a long position.
    -   **Implementation:** `IF position IS LONG AND sma_fast[-1] < sma_slow[-1]`
    -   **Action:** `position.close()`

2.  **Exit Short Position:**
    -   **Condition:** `sma_fast` crosses back *above* `sma_slow` while in a short position.
    -   **Implementation:** `IF position IS SHORT AND sma_fast[-1] > sma_slow[-1]`
    -   **Action:** `position.close()`

---

### **3. Rationale and Assumptions**

-   **Trend Following:** This is a classic trend-following strategy. It assumes that a crossover event precedes the establishment of a new, sustained trend in the direction of the crossover.
-   **Lagging Indicator:** SMAs are lagging indicators, meaning they are based on past prices. The strategy will not capture the exact top or bottom of a trend but aims to profit from the main body of the move.
-   **Parameter Sensitivity:** The choice of the lookback windows ($n_1$ and $n_2$) is critical. Shorter windows will generate more signals and be more sensitive to noise, while longer windows will generate fewer signals but may be slower to react to trend changes.